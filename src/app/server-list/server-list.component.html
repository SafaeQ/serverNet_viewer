<div>
  <h2>Server List</h2>

  <!-- Add Server Form -->
  <form (ngSubmit)="addServer()">
    <label for="serverName">Server Name:</label>
    <input
      type="text"
      id="serverName"
      name="serverName"
      [(ngModel)]="newServer.name"
      required
    />

    <label for="serverIP">Server IP:</label>
    <input
      type="text"
      id="serverIP"
      name="serverIP"
      [(ngModel)]="newServer.ipAddress"
      required
    />

    <button type="submit">Add Server</button>
  </form>

  <form [formGroup]="searchForm">
    <input
      type="text"
      formControlName="searchTerm"
      placeholder="Search by IP or Domain"
      (input)="onSearchTermChange()"
    />
  </form>

  <!-- Server List -->
  <ul>
    <li *ngFor="let server of filteredServers">
      <h3>{{ server.name }}</h3>
      <p>IP Address: {{ server.ipAddress }}</p>
      <button (click)="deleteServer(server.id)">Delete</button>
      <button (click)="addSiteToServerDialog(server.id)">Add Site</button>

      <!-- Display Sites -->
      <ul>
        <li *ngFor="let site of server.sites">
          {{ site.name }} (Domain: {{ site.domainName }}) - IP:
          {{ site.ipAddress }}
          {{ site.active }}
          <button (click)="deleteSite(server.id, site.id)">Delete Site</button>
        </li>
      </ul>
    </li>
  </ul>
</div>
